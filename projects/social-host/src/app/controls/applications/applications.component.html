<ng-container *ngIf="!State?.Loading">

    <lcu-breadcrumb
    [enterprise]="Enterprise"
    [project-lookup]="ProjectLookup"
    [application-lookup]="ApplicationLookup"
    [selected-route]="CurrentApplicationRoute"
    >

    </lcu-breadcrumb> 

    <lcu-three-column>
        <div left>
            <lcu-project-info-card 
                [name]="Application?.Application?.Name"
                [description]="Application?.Application?.Description" 
                is-editabe="true"
                [loading]="State?.Loading"
                (left-click-event)="HandleLeftClickEvent($event)"
                (right-click-event)="HandleRightClickEvent($event)">

                <!-- Commented out until implemented -->
                <!-- <lcu-card-carousel
                        [stats]="Stats">
                    </lcu-card-carousel> -->

                <div promo class="promo-container" fxLayout="column" fxLayoutAlign="center center" fxLayout.lt-md="row"
                    fxLayoutAlign.lt-md="space-around center">
                    <div> Access exclusive tools & insights</div>
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <mat-icon class="gold-icon">emoji_events</mat-icon>
                        <div class="upgrade-text" (click)="UpgradeClicked()">Upgrade to premium now</div>
                    </div>

                </div>

                <button action mat-button class="info-card-btn" (click)="SettingsClicked()">
                    <mat-icon>outbox</mat-icon>
                    Unpack
                </button>
            </lcu-project-info-card>

            <!-- Commented out until implemented -->
            <!-- <lcu-analytics-card
            title="Application Stats"
            subtext="Text for testing purposes">
        </lcu-analytics-card> -->

        </div>
        <div>
            <!-- <lcu-edit-application-form 
                [editing-application]="Application"
                (save-form-event)="SaveApplication($event)">
            </lcu-edit-application-form> -->

            <lcu-processor-details-form 
                more-details 
                [editing-application]="Application"
                [editing-application-lookup]="ApplicationLookup" 
                [project-lookup]="ProjectLookup"
                (save-form-event)="SaveProcessorDetails($event)">
            </lcu-processor-details-form>

            <div *ngFor="let run of Feed.Runs">

                <lcu-feed-card-sm
                [title]="run.RunNumber"
                [subtext]="run.Committer"
                [description]="run.CommitMessage"
                [icon]="run.Conclusion === 'success' ? 'check' : 'cancel'"
        
                >
                <!-- <div actions>
                    <button mat-icon-button  (click)="LaunchBuildClicked()">
                        <mat-icon>launch</mat-icon>
                    </button>
                    <button mat-raised-button (click)="ViewBuildDetails()">View Full Details</button>
                </div> -->
        
                </lcu-feed-card-sm>
        
            </div>

        </div>
        <div right>

            <lcu-security-toggle 
                [editing-application]="Application" 
                (save-form-event)="SaveSecuritySettings($event)">
            </lcu-security-toggle>


            <!-- <lcu-source-control-form 
                [editing-application]="Application" 
                [environment]="Environment"
                (save-form-event)="SaveSourceControl($event)">
            </lcu-source-control-form> -->
        </div>

    </lcu-three-column>
</ng-container>