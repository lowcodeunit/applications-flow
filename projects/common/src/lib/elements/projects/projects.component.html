<app-host-dashboard-card-element
  class="projects section"
  [context]="{ Title: 'Projects', Icon: 'language' }"
>
  <nav>
    <a
      href="/docs/getting-started/projects"
      target="_blank"
      lcuEvent="click"
      label="Projects"
      category="help"
    >
      <mat-icon matTooltip="More info">help_outline</mat-icon>
    </a>
  </nav>

  <div *ngIf="State.Projects?.length <= 0">
    <lcu-create-project-wizard></lcu-create-project-wizard>
  </div>

  <div *ngIf="State.Projects?.length > 0">
    <div fxLayout="row" *ngFor="let project of State.Projects">
      <div fxFlex="150px" class="project-image">
        <img [src]="project.Image" *ngIf="project.Image" />
      </div>

      <div class="margin-3">
        <h3 class="mat-headline">
          {{ project.Name }}

          <a
            mat-icon-button
            href="https://{{ project.Host }}"
            target="_blank"
            [title]="project.Host"
            color="accent"
          >
            <mat-icon>launch</mat-icon>
          </a>
        </h3>

        <h4 class="mat-subheading-1" *ngIf="project.Runs[0]; let latestRun">
          <span class="workflow-run-status">
            <mat-icon color="primary" *ngIf="latestRun.Conclusion == 'success'">
              check_circle
            </mat-icon>

            <mat-icon color="warn" *ngIf="latestRun.Conclusion == 'failed'">
              error_outline
            </mat-icon>
          </span>

          Built with GitHub Actions

          <a
            mat-icon-button
            href="https://github.com/{{ latestRun.LCU.Organization }}/{{
              latestRun.LCU.Repository
            }}/actions"
            target="_blank"
          >
            <mat-icon>launch</mat-icon>
          </a>
        </h4>
      </div>
    </div>
  </div>
</app-host-dashboard-card-element>
