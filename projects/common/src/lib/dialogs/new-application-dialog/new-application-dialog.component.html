<div class="dialog-header" fxLayoutAlign="end center">
    <button mat-icon-button (click)="CloseDialog()">
            <mat-icon>cancel</mat-icon>
    </button>
</div>

<lcu-edit-application-form 
    [editing-application]="NewApplication"
    [has-save-button]="HasSaveButton"
>
</lcu-edit-application-form>

<lcu-processor-details-form 
    [editing-application]="NewApplication"
    [editing-application-lookup]="NewApplicationLookup"
    [has-save-button]="HasSaveButton"
    [source-control-lookups]="SourceControlLookups"
    [project-lookup]="data.projectLookup"
>
</lcu-processor-details-form>

<button 
    *ngIf="ProcessorDetailsFormControls && ApplicationFormControls && !State?.Loading"
    mat-raised-button 
    color="primary"
    class="new-app-submit" 
    (click)="SaveApplication()"
    [disabled]="
        !ProcessorDetailsFormControls.ProcessorDetailsFormGroup.valid 
        || 
        !ApplicationFormControls.ApplicationFormGroup.valid
    "
>
    Save Application
</button>
<lcu-loader [loading]="State?.Loading"></lcu-loader>

<mat-error *ngIf="ErrorMessage" fxLayoutAlign="center center" >
    {{ ErrorMessage }}
</mat-error>