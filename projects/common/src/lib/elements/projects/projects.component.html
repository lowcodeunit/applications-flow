<app-host-dashboard-card-element
  class="projects section"
  fxFlex
  [context]="{ Title: 'Projects', Icon: 'language' }"
>
  <nav>
    <a
      href="/docs/getting-started/projects"
      target="_blank"
      lcuEvent="click"
      label="Projects"
      category="help"
    >
      <mat-icon matTooltip="More info">help_outline</mat-icon>
    </a>
  </nav>

  <ng-container *ngIf="!State?.Loading">
    <div *ngIf="CreatingProject">
      <lcu-create-project-wizard></lcu-create-project-wizard>
    </div>

    <ng-container *ngIf="!CreatingProject">
      <ng-container *ngIf="State">
        <lcu-projects-header [projects]="State.Projects"></lcu-projects-header>

        <span class="card-actions">
          <div fxFlex></div>
  
          <button
            mat-raised-button
            color="accent"
            (click)="ToggleCreateProject()"
            class="margin-top-4"
          >
            Create Project
          </button>
        </span>

        <div *ngIf="EditingProject">
          <div class="divider margin-bottom-3"></div>

          <lcu-project-tabs 
            [project]="EditingProject"
            [host-dns-instance]="State.HostDNSInstance"
            class="margin-top-3">
          </lcu-project-tabs>
        </div>
      </ng-container>
    </ng-container>
  </ng-container>

  <div class="loading" *ngIf="State?.Loading">
    <lcu-loader [loading]="State?.Loading"></lcu-loader>

    <div class="margin-3">
      <p *ngIf="!State.UserEnterpriseLookup">Loading your projects</p>

      <p *ngIf="State.UserEnterpriseLookup">Loading your Dashboard.</p>
    </div>
  </div>

  <!-- <div>
    <pre>{{ State | json }}</pre>
  </div> -->
</app-host-dashboard-card-element>
