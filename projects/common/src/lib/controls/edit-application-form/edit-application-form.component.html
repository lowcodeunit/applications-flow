<form class="form-card" [formGroup]="ApplicationFormGroup" (ngSubmit)="SubmitApplicationControl()" >
    <mat-card class="spread flow-card">
      <mat-card-header>
        <mat-card-title>
          <ng-container *ngIf="EditingApplication?.Application">
            Edit Application:
            {{ EditingApplication.Application?.Name }}
          </ng-container>

          <ng-container *ngIf="!EditingApplication?.Application">
            Create an Application
          </ng-container>
        </mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <mat-form-field class="mat-full-width">
          <input
            matInput
            placeholder="Name"
            formControlName="name"
            required
          />
        </mat-form-field>

        <mat-form-field class="mat-full-width">
          <textarea
            matInput
            placeholder="Description"
            formControlName="description"
            rows="3"
            required
          ></textarea>
        </mat-form-field>

        <mat-form-field class="mat-full-width">
          <input
            matInput
            placeholder="Route"
            formControlName="route"
            required
          />
        </mat-form-field>
      </mat-card-content>
      <mat-card-actions fxLayoutAlign="center center">

        <button 
        *ngIf="HasSaveButton && !State?.Loading"
          mat-raised-button 
          type="submit" 
          fxFlex="100%" 
          color="primary" 
          [disabled]="!ApplicationFormGroup.valid || !ApplicationFormGroup.dirty">
          <mat-icon>save</mat-icon>
          Save
        </button>
        <lcu-loader [loading]="State?.Loading"></lcu-loader>
        
    </mat-card-actions>
    </mat-card>
</form>
